{% extends 'base.html' %}

{% block content %}
    <h2 class="mt-4">Devamsızlık Ekle</h2>
    <hr>
    <form method="POST" action="{{ url_for('add_attendance') }}">
        <div class="form-group">
            <label for="student_id">Öğrenci ID:</label>
            <input type="text" class="form-control" id="student_id" name="student_id" required>
        </div>
        <div class="form-group">
            <label for="attendance_type">Devamsızlık Türü:</label>
            <select class="form-control" id="attendance_type" name="attendance_type">
                <option value="özürsüz">Özürsüz</option>
                <option value="özürlü">Özürlü</option>
                <option value="geç">Geç</option>
                <option value="faaliyet">Faaliyet</option>
            </select>
        </div>
        <div id="ozurlu" style="display:none" class="form-group">
            <label for="sub_type">Özürlü Alt Türü:</label>
            <select class="form-control" id="sub_type" name="sub_type">
                <option value="izinli">İzinli</option>
                <option value="raporlu">Raporlu</option>
                <option value="sevk">Sevk</option>
            </select>
        </div>
        <div class="form-group">
            <label for="days">Gün Sayısı:</label>
            <input type="number" class="form-control" id="days" name="days" value="1">
        </div>
        <div class="form-group">
            <label for="count">Sayı:</label>
            <input type="number" class="form-control" id="count" name="count" value="1">
        </div>
        <button type="submit" class="btn btn-primary">Kaydet</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const attendanceType = document.getElementById('attendance_type');
            const ozurluDiv = document.getElementById('ozurlu');

            attendanceType.addEventListener('change', function () {
                if (attendanceType.value === 'özürlü') {
                    ozurluDiv.style.display = 'block';
                } else {
                    ozurluDiv.style.display = 'none';
                }
            });
        });
    </script>
{% endblock %}
